<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SLAB_USB_SPI: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="SiliconLabsLogo_Red_Small.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SLAB_USB_SPI
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Silicon Labs CP2130 USB-to-SPI Interface Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SLAB_USB_SPI Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="section_introduction"></a>
Introduction</h1>
<p>The Silicon Labs USB to SPI Library provides an application programming interface (API) consists of a low-level API to interface directly at the USB device class with WinUSB transfers.</p>
<center> <table class="doxtable">
<caption align="bottom">Library Release Files</caption>
<tr>
<th><center>Operating System</center> </th><th><center>Library</center> </th><th><center>Include Files</center> </th><th><center>Version</center>  </th></tr>
<tr>
<td>Windows 7 and later </td><td>SLAB_USB_SPI.dll </td><td><a class="el" href="_s_l_a_b___u_s_b___s_p_i_8h.html" title="This file defines the API of the CP2130 Interface Library. ">SLAB_USB_SPI.h</a> (C, C++)<br/>
  </td><td><center>1.0</center>  </td></tr>
</table>
</center><h1><a class="anchor" id="section_usage"></a>
Library Usage</h1>
<p>The host library is released with the following files:</p>
<ul>
<li>SLAB_USB_SPI.dll - A binary exporting the host library functions</li>
<li>SLAB_USB_SPI.lib - Provides build-time linking for C/C++ projects</li>
<li><a class="el" href="_s_l_a_b___u_s_b___s_p_i_8h.html" title="This file defines the API of the CP2130 Interface Library. ">SLAB_USB_SPI.h</a> - Defines the host library function prototypes and constants</li>
</ul>
<h2><a class="anchor" id="section_usage_c"></a>
C/C++ Projects</h2>
<p>The host library is designed to be universally compatible with most programming languages and is exported in C.</p>
<p>Follow these steps to use the library in a C/C++ project:</p>
<ol type="1">
<li>Add <code>SLAB_USB_SPI.lib</code> as a linker input dependency or<br/>
 Add the following code: <code>#pragma comment (lib, "SLAB_USB_SPI.lib")</code></li>
<li>Include <code><a class="el" href="_s_l_a_b___u_s_b___s_p_i_8h.html" title="This file defines the API of the CP2130 Interface Library. ">SLAB_USB_SPI.h</a></code> as needed.</li>
<li>Provide <code>SLAB_USB_SPI.dll</code> with the executable (.exe) file.</li>
</ol>
<h1><a class="anchor" id="section_thread_safety"></a>
Thread Safety</h1>
<p>The host library and associated functions are not thread safe. This means that calling library functions simultaneously from multiple threads may have undesirable effects.</p>
<p>To use the library functions in more than one thread, the user should do the following:</p>
<ol type="1">
<li>Call library functions from within a critical section such that only a single function is being called at any given time. If a function is being called in one thread, then the user must prevent another thread from calling any function until the first function returns.</li>
</ol>
<h1><a class="anchor" id="section_surprise_removal"></a>
Surprise Removal</h1>
<p>Using the CP2130 Device GUID, Windows applications or services can register for the <code>WM_DEVICECHANGE</code> Windows message. Once registered, the application will receive device arrival and removal notifications for all USB devices with matching GUID. The application should retrieve the device path to filter devices. Similarly if a <code>DBT_DEVICEREMOVECOMPLETE</code> message is received, then the application should check to see if the device path matches the device path of any connected devices. If this is the case, then the device was removed, and the application should close the device. Also if a <code>DBT_DEVICEARRIVAL</code> message is received, then the application might add the new device to a device list so that users can select any USB device matching the required GUID. See accompanying example code for information on how to implement surprise removal and device arrival. Search for Knowledge Base Article # 222649, 311158, and 311153 for programming examples for C++, Visual Basic .NET, and Visual C#. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 7 2013 11:14:50 for SLAB_USB_SPI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
